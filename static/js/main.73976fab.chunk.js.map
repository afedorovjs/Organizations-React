{"version":3,"sources":["constants/actions.js","reducers/orgzReducer.js","reducers/rootReducer.js","store/store.js","actions/orgz.js","Organization.jsx","SearchTab.jsx","Org.jsx","SavedOrganizations.jsx","App.jsx","index.jsx"],"names":["ADD_ORG","DELETE_ORG","BTN_CLICKED","initialState","orgz","canShowList","isBtnClicked","rootReducer","combineReducers","savedOrgz","state","action","type","payload","flat","store","createStore","applyMiddleware","thunk","handleSaveBtn","click","addOrg","suggestion","connect","dispatch","saveOrg","clickBtn","orgData","manager","data","management","name","address","value","className","inn","kpp","ogrn","onClick","SearchTab","props","handleSelect","isClicked","setState","token","onSelect","placeholder","hint","highlighting","service","suggestionsFormatter","city","selectedSuggestionFormatter","full_with_opf","this","Component","eraseOrg","index","getState","newState","filter","org","i","deleteOrg","extendButton","React","createRef","closeButton","extendableList","ref","current","classList","add","style","display","remove","orgzArr","map","key","orgzLength","length","id","defaultChecked","htmlFor","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.73976fab.chunk.js","sourcesContent":["export const\n  // organizations\n  ADD_ORG = 'ADD_ORG',\n  DELETE_ORG = 'DELETE_ORG',\n  BTN_CLICKED = 'BTN_CLICKED';\n","import {\n  BTN_CLICKED,\n  ADD_ORG,\n  DELETE_ORG,\n} from '../constants/actions';\n\nconst initialState = {\n  orgz: [],\n  canShowList: false,\n  isBtnClicked: false,\n};\n\nexport function orgzReducer(state = initialState, action) {\n  switch (action.type) {\n    case ADD_ORG:\n      return {\n        ...state,\n        orgz: [...state.orgz, action.payload.orgz].flat(),\n        canShowList: action.payload.canShowList,\n        isBtnClicked: state.isBtnClicked,\n      };\n\n    case BTN_CLICKED:\n      return {\n        ...state,\n        isBtnClicked: action.payload.isBtnClicked,\n      };\n\n    case DELETE_ORG:\n      return {\n        ...state,\n        orgz: action.payload.orgz,\n      };\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport { orgzReducer } from './orgzReducer';\n\nexport const rootReducer = combineReducers({\n  savedOrgz: orgzReducer,\n});\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { rootReducer } from '../reducers/rootReducer';\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nexport default store;\n","import {\n  BTN_CLICKED,\n  ADD_ORG,\n  DELETE_ORG,\n} from '../constants/actions';\n\nexport const deleteOrg = (index) => (dispatch, getState) => {\n  const { orgz } = getState().savedOrgz;\n  const newState = orgz.filter((org, i) => i !== index);\n  dispatch({\n    type: DELETE_ORG,\n    payload: {\n      orgz: newState,\n    },\n  });\n};\n\nexport const handleSaveBtn = (click) => (\n  {\n    type: BTN_CLICKED,\n    payload: {\n      isBtnClicked: click,\n    },\n  }\n);\n\nexport const addOrg = (suggestion) => (\n  {\n    type: ADD_ORG,\n    payload: {\n      orgz: suggestion,\n      canShowList: true,\n    },\n  }\n);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { addOrg, handleSaveBtn } from './actions/orgz';\n\nfunction Organization({ orgData, saveOrg, isBtnClicked, clickBtn }) {\n  const manager = (orgData.data.management !== null) ? orgData.data.management.name : 'Нет';\n  const address = orgData.data.address.value;\n\n  const handleClick = () => {\n    clickBtn(true);\n    saveOrg(orgData);\n  };\n\n  return (\n    <div className=\"orgWrapper\">\n      <div className=\"orgName\">\n        {orgData.value}\n      </div>\n      <div className=\"infoWrapper\">\n        <div className=\"texts\">\n          <span className=\"title\">Юридический адрес</span>\n          <span>{address}</span>\n          <span className=\"title\">Генеральный директор</span>\n          <span>{manager}</span>\n        </div>\n        <div className=\"numbers\">\n          <span>\n            <span>ИНН</span>\n            {orgData.data.inn}\n          </span>\n          <span>\n            <span>КПП</span>\n            {orgData.data.kpp}\n          </span>\n          <span>\n            <span>ОГРН</span>\n            {orgData.data.ogrn}\n          </span>\n        </div>\n      </div>\n      {isBtnClicked\n        ? (\n          <div className=\"clickedButton\">\n            <div className=\"clickedImg\" />\n            Сохранено\n          </div>\n        )\n        : (\n          <button\n            type=\"button\"\n            className=\"saveButton\"\n            onClick={handleClick}\n          >\n          Сохранить\n          </button>\n        )}\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => (\n  {\n    isBtnClicked: state.savedOrgz.isBtnClicked,\n  }\n);\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n    saveOrg: (suggestion) => dispatch(addOrg(suggestion)),\n    clickBtn: (click) => dispatch(handleSaveBtn(click)),\n  }\n);\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Organization);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport DadataSuggestions from 'react-dadata-suggestions';\nimport { addOrg, handleSaveBtn } from './actions/orgz';\nimport Organization from './Organization';\n\nimport 'react-dadata-suggestions/dist/styles.css';\n\nconst token = '68f82416ea144e2a2367805e78ca514040ca42c7';\n\nclass SearchTab extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      suggestion: null,\n    };\n  }\n\n  handleSelect = (suggestion) => {\n    this.props.isClicked(false)\n    this.setState({\n      suggestion,\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"searchTab\">\n        <p>Организация или ИП</p>\n        <DadataSuggestions\n          token={token}\n          onSelect={(suggestion) => this.handleSelect(suggestion)}\n          placeholder=\"Введите название, ИНН или адрес организации\"\n          hint=\"\"\n          highlighting={false}\n          service=\"party\"\n          suggestionsFormatter={(suggestion) =>\n            `${suggestion.value} г. ${suggestion.data.address.data.city}`}\n          selectedSuggestionFormatter={(suggestion) =>\n            `${suggestion.data.name.full_with_opf} ИНН ${suggestion.data.inn} адрес ${suggestion.data.address.value}`\n        }\n        />\n        {(this.state.suggestion === null)\n        ? <div className=\"addWrapper\">\n            <div className=\"addIcon\" />\n            <span>Для добавления новой организации введите ее название, ИНН или адрес.</span>\n          </div>\n        : <Organization orgData={this.state.suggestion} />}\n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    saveOrg: (suggestion) => dispatch(addOrg(suggestion)),\n    isClicked: (click) => dispatch(handleSaveBtn(click)),\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(SearchTab);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { deleteOrg } from './actions/orgz';\n\nfunction Org({ name, data, index, eraseOrg }) {\n  const {\n    inn, kpp, ogrn,\n  } = data;\n  const address = data.address.value;\n  const manager = (data.management !== null) ? data.management.name : 'Нет';\n  const extendButton = React.createRef();\n  const closeButton = React.createRef();\n  const extendableList = React.createRef();\n\n  const extendList = () => {\n    extendableList.current.classList.add('clicked');\n    extendButton.current.style.display = 'none';\n  };\n\n  const closeList = () => {\n    extendableList.current.classList.remove('clicked');\n    extendButton.current.style.display = 'inline';\n  };\n\n  const handleDeleteClick = () => {\n    eraseOrg(index);\n  };\n\n  return (\n    <li className=\"listItem\">\n      <div className=\"title\">\n        <span>{name}</span>\n        <button\n          type=\"button\"\n          className=\"deleteButton\"\n          onClick={handleDeleteClick}\n        />\n      </div>\n      <div className=\"info\">\n        <div className=\"innWrapper\">\n          <span>\n            <span>ИНН</span>\n            {inn}\n          </span>\n          <button\n            type=\"button\"\n            className=\"extendButton\"\n            ref={extendButton}\n            onClick={extendList}\n          >\n            подробнее\n          </button>\n        </div>\n        <div ref={extendableList} className=\"extendableList\">\n          <span>\n            <span>КПП</span>\n            {kpp}\n          </span>\n          <span>\n            <span>ОГРН</span>\n            {ogrn}\n          </span>\n          <span>\n            <span>Юридический адрес</span>\n            {address}\n          </span>\n          <span>\n            <span>Генеральный директор</span>\n            {manager}\n          </span>\n          <button\n            type=\"button\"\n            className=\"closeButton\"\n            ref={closeButton}\n            onClick={closeList}\n          >\n            скрыть подробности\n          </button>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nconst mapDispatchToProps = (dispatch) => (\n  {\n    eraseOrg: (index) => dispatch(deleteOrg(index)),\n  }\n);\n\nexport default connect(null, mapDispatchToProps)(Org);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Org from './Org';\n\nfunction SavedOrganizations({ orgzArr, canShowList }) {\n  return (\n    <ul>\n      {canShowList && (orgzArr.map(({ value, data }, i) => <Org key={i} index={i} name={value} data={data} />))}\n    </ul>\n  );\n}\n\nconst mapStateToProps = (state) => (\n  {\n    orgzArr: state.savedOrgz.orgz,\n    canShowList: state.savedOrgz.canShowList,\n  }\n);\n\nexport default connect(mapStateToProps)(SavedOrganizations);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport SearchTab from './SearchTab';\nimport SavedOrganizations from './SavedOrganizations';\n\nfunction App({ orgzLength }) {\n  return (\n    <div className=\"appWrapper\">\n      <header>\n        <div className=\"headerLogo\" />\n      </header>\n\n      <main>\n        <p>Мои организации</p>\n\n        <div className=\"tabs\">\n          <input id=\"tab1\" type=\"radio\" name=\"tabs\" defaultChecked />\n          <label htmlFor=\"tab1\">Новая организация</label>\n\n          <input id=\"tab2\" type=\"radio\" name=\"tabs\" />\n          <label htmlFor=\"tab2\">Сохраненные организации ({orgzLength})</label>\n\n          <div id=\"content-tab1\">\n            <SearchTab />\n          </div>\n\n          <div id=\"content-tab2\">\n            <SavedOrganizations />\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  const { length } = state.savedOrgz.orgz;\n  return {\n    orgzLength: length,\n  };\n};\n\nexport default connect(mapStateToProps, null)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store/store';\nimport App from './App';\n\nimport './css/reset.css';\nimport './css/style.css';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root'),\n);\n"],"sourceRoot":""}